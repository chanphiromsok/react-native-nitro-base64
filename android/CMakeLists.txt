cmake_minimum_required(VERSION 3.9.0)
project(nitrobase64)

set(PACKAGE_NAME NitroBase64)
set(CMAKE_VERBOSE_MAKEFILE ON)
set(CMAKE_CXX_STANDARD 20)

# Define your native library and add all sources
add_library(${PACKAGE_NAME} SHARED
  src/main/cpp/cpp-adapter.cpp
  ../cpp/simdutf.cpp
)

# --- Autolinking generated by nitrogen ---
include(${CMAKE_SOURCE_DIR}/../nitrogen/generated/android/NitroBase64+autolinking.cmake)

# --- Include paths ---
target_include_directories(${PACKAGE_NAME} PRIVATE
  src/main/cpp
  ../cpp
)

# --- Find Android log library ---
find_library(LOG_LIB log)

# --- Link libraries ---
target_link_libraries(${PACKAGE_NAME}
  ${LOG_LIB}
  android
)
